<mat-card class="flex flex-wrap flex-column at-glance ws-mat-accent-border" tabindex="0">
  <div class="flex flex-center cursor-pointer preview-div" *ngIf="widgetData">
    <a class="preview mat-subheading-2 flex-1" *ngIf="!this.widgetData.customLink" [routerLink]="getPreviewLink">
      <span class="m-auto"> {{ widgetData.buttonName ? widgetData.buttonName :'Preview CBP'}}</span>
    </a>
    <a class="preview mat-subheading-2 margin-0 text-white ws-mat-primary-background flex-1"
      *ngIf="this.widgetData.customLink" target="_blank" [href]="getCourseLink">
      <span class="text-white m-auto"> {{ widgetData.buttonName ? widgetData.buttonName :'Start now'}}
      </span>
    </a>
  </div>
  <div class="flex flex-center cursor-pointer preview-div" *ngIf="widgetData && widgetData.showCopyContent">
    <a class="preview mat-subheading-2 flex-1" (click)="copyContentEvent()">
      <span class="m-auto"> Create a copy</span>
    </a>
  </div>
  <span class="mat-subheading-1 margin-top-s">{{widgetData.displayName}}</span>
  <div class="flex flex-1 flex-column" *ngIf="widgetData">
    <span class="flex margin-top-xs margin-bottom-xs">
      <mat-icon class="ws-mat-black40-text margin-right-s">timer</mat-icon>
      {{widgetData.duration | pipeDurationTransform:'HMS'}}
    </span>
    <span *ngIf="widgetData.counts.course > 0" class="flex margin-top-xs margin-bottom-xs">
      <mat-icon class="ws-mat-black40-text margin-right-s" style="transform: rotate(90deg)">horizontal_split</mat-icon>
      {{widgetData.counts.course}} Modules
    </span>
    <span *ngIf="widgetData.counts.learningModule > 0" class="flex margin-top-xs margin-bottom-xs">
      <mat-icon class="ws-mat-black40-text margin-right-s" style="transform: rotate(0deg)">horizontal_split</mat-icon>
      {{widgetData.counts.learningModule}}
      Learning Module
    </span>
    <span *ngIf="widgetData.counts.webPage > 0" class="flex margin-top-xs margin-bottom-xs">
      <mat-icon class="ws-mat-black40-text margin-right-s" style="transform: rotate(0deg)">web</mat-icon>
      {{widgetData.counts.webPage}}
      Web Pages
    </span>
    <span *ngIf="widgetData.counts.webModule > 0" class="flex margin-top-xs margin-bottom-xs">
      <mat-icon class="ws-mat-black40-text margin-right-s" style="transform: rotate(180deg)">web</mat-icon>
      {{widgetData.counts.webModule}}
      Web Modules
    </span>
    <span *ngIf="widgetData.counts.quizs > 0" class="flex margin-top-xs margin-bottom-xs">
      <mat-icon class="ws-mat-black40-text margin-right-s" style="transform: rotate(0deg)">assignment</mat-icon>
      {{widgetData.counts.quizs}}
      Quizs
    </span>
    <span *ngIf="widgetData.counts.youtube > 0" class="flex margin-top-xs margin-bottom-xs">
      <mat-icon class="ws-mat-black40-text margin-right-s" style="transform: rotate(0deg)">play_circle_outline
      </mat-icon>
      {{widgetData.counts.youtube}}
      youtube
    </span>

    <span *ngIf="widgetData.counts.video > 0" class="flex margin-top-xs margin-bottom-xs">
      <mat-icon class="ws-mat-black40-text margin-right-s">play_circle_filled</mat-icon>{{widgetData.counts.video}}
      Videos
    </span>
    <span *ngIf="widgetData.counts.podcast > 0" class="flex margin-top-xs margin-bottom-xs">
      <mat-icon class="ws-mat-black40-text margin-right-s">audiotrack</mat-icon>{{widgetData.counts.podcast}}
      Audios
    </span>
    <span *ngIf="widgetData.counts.pdf > 0" class="flex margin-top-xs margin-bottom-xs">
      <mat-icon class="ws-mat-black40-text margin-right-s">picture_as_pdf</mat-icon>{{widgetData.counts.pdf}}
      {{(widgetData.counts.pdf > 1) ? 'PDFs' : 'PDF'}}
    </span>
    <span *ngIf="widgetData.counts.assessment > 0" class="flex margin-top-xs margin-bottom-xs">
      <mat-icon class="ws-mat-black40-text margin-right-s">insert_drive_file</mat-icon>{{widgetData.counts.assessment}}
      {{(widgetData.counts.assessment > 1) ? 'Assessments' : 'Assessment'}}
    </span>
    <span *ngIf="widgetData.counts.other > 0" class="flex margin-top-xs margin-bottom-xs">
      <mat-icon class="ws-mat-black40-text margin-right-s">note_add</mat-icon>
      {{widgetData.counts.other}}
      Others
    </span>
  </div>
  <div class="container margin-top-xs margin-bottom-xs">
    <div class="line">
      <mat-divider></mat-divider>
    </div>
  </div>

  <div class="flex flex-1 flex-column margin-top-s">
    <span class="mat-body-2 ws-mat-default-text">Primary Category </span>
    <span class="mat-subheading-2"
      *ngIf="widgetData && widgetData.primaryCategory">{{widgetData.primaryCategory}}</span>
    <span class="mat-body-2 ws-mat-default-text">Cost </span>
    <span class="mat-subheading-2" *ngIf="widgetData && widgetData.cost">{{widgetData.cost}}</span>
    <span class="mat-subheading-2 ws-mat-black60-text" *ngIf="widgetData && widgetData.lastUpdate">Last
      updated on
      {{widgetData.lastUpdate | date}} </span>
  </div>
</mat-card>